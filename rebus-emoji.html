<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üß© R√©bus Emoji - Devine l'objet !</title>
    <link rel="stylesheet" href="css/rebus-emoji.css">
</head>
<body>
    <div class="container">
        <h1>üß© R√©bus Emoji</h1>
        <div class="subtitle">Devinez l'objet, le jeu ou le concept √† partir des emojis !</div>
        
        <!-- Bouton pour mode plein √©cran -->
        <div class="mode-toggle">
            <button class="btn btn-primary" onclick="toggleFullscreenMode()">
                üéØ Mode Jeu Seul
            </button>
        </div>
        
        <div class="main-content" id="mainContent">
            <!-- Section Configuration -->
            <div class="config-section" id="configSection">
                <h2 class="section-title">‚öôÔ∏è Configuration du Jeu</h2>
                
                <div class="import-export">
                    <input type="file" id="importConfig" accept=".json" style="display: none;">
                    <button class="btn btn-primary" onclick="document.getElementById('importConfig').click()">
                        üì• Importer Config
                    </button>
                    <button class="btn btn-success" onclick="exportConfig()">
                        üì§ Exporter Config
                    </button>
                </div>
                
                <div class="config-form">
                    <h3>‚ûï Ajouter un R√©bus</h3>
                    
                    <div class="form-group">
                        <label for="rebusImage">Image (optionnel) :</label>
                        <input type="file" id="rebusImage" class="form-control" accept="image/*">
                        <div class="image-preview" id="imagePreview"></div>
                    </div>
                    
                    <div class="form-group">
                        <label for="rebusName">Nom/R√©ponse :</label>
                        <input type="text" id="rebusName" class="form-control" placeholder="Ex: T√©l√©phone, Jeu vid√©o, etc." required>
                    </div>
                    
                    <div class="form-group">
                        <label for="rebusEmojis">Suite d'Emojis :</label>
                        <div class="emoji-input-wrapper">
                            <textarea id="rebusEmojis" class="form-control emoji-input" placeholder="Tapez ou collez vos emojis ici, ou cliquez sur 'Ajouter' pour s√©lectionner..."></textarea>
                            <div class="emoji-actions">
                                <button type="button" class="btn btn-primary btn-sm" onclick="openEmojiPicker()">
                                    üòÄ Ajouter
                                </button>
                                <button type="button" class="btn btn-secondary btn-sm" onclick="clearEmojis()">
                                    üóëÔ∏è Vider
                                </button>
                            </div>
                        </div>
                        
                        <!-- S√©lecteur d'emoji (modal) -->
                        <div class="emoji-modal" id="emojiModal" style="display: none;">
                            <div class="emoji-modal-content">
                                <div class="emoji-modal-header">
                                    <h4>S√©lectionnez vos emojis</h4>
                                    <button class="emoji-close" onclick="closeEmojiPicker()">&times;</button>
                                </div>
                                <div class="emoji-modal-body">
                                    <emoji-picker id="emojiPicker"></emoji-picker>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <button class="btn btn-success" onclick="addRebus()">
                        ‚ú® Ajouter √† la Collection
                    </button>
                </div>

                <div class="rebus-list">
                    <h3 class="section-title">üìã Collection de R√©bus (<span id="rebusCount">0</span>)</h3>
                    <div id="rebusList"></div>
                </div>
            </div>

            <!-- Section Jeu -->
            <div class="game-section" id="gameSection">
                <div class="game-header">
                    <div class="game-stats">
                        <div class="stat">
                            <span class="stat-label">Score:</span>
                            <span class="stat-value" id="score">0</span>
                        </div>
                        <div class="stat">
                            <span class="stat-label">Temps:</span>
                            <span class="stat-value" id="timer">45</span>s
                        </div>
                        <div class="stat">
                            <span class="stat-label">R√©bus:</span>
                            <span class="stat-value"><span id="currentRebusNum">0</span>/<span id="totalRebus">0</span></span>
                        </div>
                    </div>
                </div>

                <div class="rebus-container" id="rebusContainer">
                    <div class="rebus-display">
                        <div class="rebus-emojis" id="rebusEmojisDisplay">
                            üß© Cliquez sur "Commencer" pour jouer !
                        </div>
                        <div class="rebus-hint" id="rebusHint"></div>
                    </div>
                    
                    <!-- Plus besoin de section de r√©ponse -->
                </div>
                
                <div class="game-controls" id="gameControls">
                    <div class="control-buttons">
                        <button class="btn btn-success start-btn" id="startBtn" onclick="startGame()">
                            üéÆ Commencer le Jeu
                        </button>
                        <button class="btn btn-danger" id="stopBtn" onclick="stopGame()" style="display: none;">
                            üõë Arr√™ter
                        </button>
                        <button class="btn btn-primary" id="revealBtn" onclick="revealAnswer()" style="display: none;">
                            üëÅÔ∏è R√©v√©ler R√©ponse
                        </button>
                        <button class="btn btn-warning" id="hintBtn" onclick="showHint()" style="display: none;">
                            üí° Indice
                        </button>
                        <button class="btn btn-secondary" id="nextBtn" onclick="nextRebus()" style="display: none;">
                            ‚û°Ô∏è Suivant
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Bouton retour en mode plein √©cran -->
        <div class="back-to-config" id="backToConfig" style="display: none;">
            <button class="btn btn-secondary" onclick="toggleFullscreenMode()">
                ‚öôÔ∏è Retour Configuration
            </button>
        </div>

        <!-- Overlay de r√©sultat -->
        <div class="result-overlay" id="resultOverlay">
            <div class="result-content" id="resultContent">
                <!-- Contenu g√©n√©r√© dynamiquement -->
            </div>
        </div>

        <!-- Overlay de fin de jeu -->
        <div class="game-over-overlay" id="gameOverOverlay">
            <div class="game-over-content" id="gameOverContent">
                <!-- Contenu g√©n√©r√© dynamiquement -->
            </div>
        </div>
    </div>

    <!-- Librairie emoji picker -->
    <script type="module" src="https://cdn.jsdelivr.net/npm/emoji-picker-element@^1/index.js"></script>
    <script src="js/rebus-emoji.js"></script>
</body>
</html>